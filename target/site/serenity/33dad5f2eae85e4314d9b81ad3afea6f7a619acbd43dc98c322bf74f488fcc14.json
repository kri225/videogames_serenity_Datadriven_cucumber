{"name":"Create a new videogame and verify if the videogame is added","id":"testing-different-request-on-the-videogame-application:Create a new videogame and verify if the videogame is added","testSteps":[{"number":1,"description":"When I create a new videogame by providing the information id\"5\" name\"Yakitri\" releaseDate\"2021-08-01T10:02:16.369Z\" reviewScore\"59\" category\"Cardguard\" rating\"5\"","duration":874,"startTime":"2021-08-04T23:02:35.647+01:00[Europe/London]","exception":{"errorType":"java.lang.AssertionError","message":"1 expectation failed.\nExpected status code \u003c201\u003e but was \u003c500\u003e.\n","stackTrace":[{"declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"validateResponseIfRequired","fileName":"ResponseSpecificationImpl.groovy","lineNumber":636},{"declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"statusCode","fileName":"ResponseSpecificationImpl.groovy","lineNumber":122},{"declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"statusCode","fileName":"ResponseSpecificationImpl.groovy","lineNumber":130},{"declaringClass":"io.restassured.internal.ValidatableResponseOptionsImpl","methodName":"statusCode","fileName":"ValidatableResponseOptionsImpl.java","lineNumber":117},{"declaringClass":"com.videogames.cucumber.steps.MyStepdefs","methodName":"iCreateANewVideogameByProvidingTheInformationIdNameReleaseDateReviewScoreCategoryRating","fileName":"MyStepdefs.java","lineNumber":42},{"declaringClass":"âœ½","methodName":"When I create a new videogame by providing the information id\"5\" name\"Yakitri\" releaseDate\"2021-08-01T10:02:16.369Z\" reviewScore\"59\" category\"Cardguard\" rating\"5\"","fileName":"src/test/java/resources/feature/videogame.feature","lineNumber":7}]},"result":"FAILURE","precondition":false,"children":[{"number":2,"description":"Creating videogame with id: 5,name: Yakitri, releaseDate: 2021-08-01T10:02:16.369Z,  reviewscore: 59, category: Cardguard and rating: 5","duration":821,"startTime":"2021-08-04T23:02:35.662+01:00[Europe/London]","result":"SUCCESS","precondition":false,"children":[{"number":3,"description":"POST http://localhost:8080/app/videogames\r\r","duration":0,"startTime":"2021-08-04T23:02:36.481+01:00[Europe/London]","result":"SUCCESS","restQuery":{"method":"POST","path":"http://localhost:8080/app/videogames\r\r","content":"{\n    \"id\": 5,\n    \"name\": \"Yakitri\",\n    \"releaseDate\": \"2021-08-01T10:02:16.369Z\",\n    \"reviewScore\": 59,\n    \"category\": \"Cardguard\",\n    \"rating\": \"5\"\n}\r","contentType":"application/json","requestHeaders":"Accept\u003dapplication/json\r\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8\r\r","requestCookies":"\r\r","responseHeaders":"Content-Type: application/json;charset\u003dUTF-8\nTransfer-Encoding: chunked\nDate: Wed, 04 Aug 2021 22:02:36 GMT\nConnection: close\r","responseCookies":"\r","responseBody":"{\n    \"timestamp\": 1628114556463,\n    \"status\": 500,\n    \"error\": \"Internal Server Error\",\n    \"message\": \"PreparedStatementCallback; SQL [insert into VIDEOGAME values(?, ?, ?, ?, ?, ?)]; Unique index or primary key violation: \\\"PRIMARY KEY ON PUBLIC.VIDEOGAME(ID) [5, \u0027The Legend of Zelda: Ocarina of Time\u0027, TIMESTAMP \u00271998-12-10 23:59:59\u0027, 93, \u0027Adventure\u0027, \u0027PG-13\u0027]\\\"; SQL statement:\\ninsert into VIDEOGAME values(?, ?, ?, ?, ?, ?) [23505-199]; nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: \\\"PRIMARY KEY ON PUBLIC.VIDEOGAME(ID) [5, \u0027The Legend of Zelda: Ocarina of Time\u0027, TIMESTAMP \u00271998-12-10 23:59:59\u0027, 93, \u0027Adventure\u0027, \u0027PG-13\u0027]\\\"; SQL statement:\\ninsert into VIDEOGAME values(?, ?, ?, ?, ?, ?) [23505-199]\",\n    \"trace\": \"org.springframework.dao.DuplicateKeyException: PreparedStatementCallback; SQL [insert into VIDEOGAME values(?, ?, ?, ?, ?, ?)]; Unique index or primary key violation: \\\"PRIMARY KEY ON PUBLIC.VIDEOGAME(ID) [5, \u0027The Legend of Zelda: Ocarina of Time\u0027, TIMESTAMP \u00271998-12-10 23:59:59\u0027, 93, \u0027Adventure\u0027, \u0027PG-13\u0027]\\\"; SQL statement:\\ninsert into VIDEOGAME values(?, ?, ?, ?, ?, ?) [23505-199]; nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: \\\"PRIMARY KEY ON PUBLIC.VIDEOGAME(ID) [5, \u0027The Legend of Zelda: Ocarina of Time\u0027, TIMESTAMP \u00271998-12-10 23:59:59\u0027, 93, \u0027Adventure\u0027, \u0027PG-13\u0027]\\\"; SQL statement:\\ninsert into VIDEOGAME values(?, ?, ?, ?, ?, ?) [23505-199]\\r\\n\\tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:243)\\r\\n\\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)\\r\\n\\tat org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1443)\\r\\n\\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633)\\r\\n\\tat org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:862)\\r\\n\\tat org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:883)\\r\\n\\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:321)\\r\\n\\tat com.techietester.resource.VideoGameResource.createVideoGame(VideoGameResource.java:60)\\r\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\r\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\r\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\r\\n\\tat org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:76)\\r\\n\\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:148)\\r\\n\\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:191)\\r\\n\\tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:243)\\r\\n\\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:103)\\r\\n\\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:493)\\r\\n\\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:415)\\r\\n\\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:104)\\r\\n\\tat org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:277)\\r\\n\\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:272)\\r\\n\\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:268)\\r\\n\\tat org.glassfish.jersey.internal.Errors.process(Errors.java:316)\\r\\n\\tat org.glassfish.jersey.internal.Errors.process(Errors.java:298)\\r\\n\\tat org.glassfish.jersey.internal.Errors.process(Errors.java:268)\\r\\n\\tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:289)\\r\\n\\tat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:256)\\r\\n\\tat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:703)\\r\\n\\tat org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:416)\\r\\n\\tat org.glassfish.jersey.servlet.ServletContainer.serviceImpl(ServletContainer.java:409)\\r\\n\\tat org.glassfish.jersey.servlet.ServletContainer.doFilter(ServletContainer.java:584)\\r\\n\\tat org.glassfish.jersey.servlet.ServletContainer.doFilter(ServletContainer.java:525)\\r\\n\\tat org.glassfish.jersey.servlet.ServletContainer.doFilter(ServletContainer.java:462)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\r\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.lang.Thread.run(Thread.java:745)\\r\\nCaused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: \\\"PRIMARY KEY ON PUBLIC.VIDEOGAME(ID) [5, \u0027The Legend of Zelda: Ocarina of Time\u0027, TIMESTAMP \u00271998-12-10 23:59:59\u0027, 93, \u0027Adventure\u0027, \u0027PG-13\u0027]\\\"; SQL statement:\\ninsert into VIDEOGAME values(?, ?, ?, ?, ?, ?) [23505-199]\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:457)\\r\\n\\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:427)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:205)\\r\\n\\tat org.h2.message.DbException.get(DbException.java:181)\\r\\n\\tat org.h2.mvstore.db.MVPrimaryIndex.add(MVPrimaryIndex.java:131)\\r\\n\\tat org.h2.mvstore.db.MVTable.addRow(MVTable.java:546)\\r\\n\\tat org.h2.command.dml.Insert.insertRows(Insert.java:180)\\r\\n\\tat org.h2.command.dml.Insert.update(Insert.java:132)\\r\\n\\tat org.h2.command.CommandContainer.update(CommandContainer.java:133)\\r\\n\\tat org.h2.command.Command.executeUpdate(Command.java:267)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:200)\\r\\n\\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:154)\\r\\n\\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\\r\\n\\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\\r\\n\\tat org.springframework.jdbc.core.JdbcTemplate.lambda$update$0(JdbcTemplate.java:867)\\r\\n\\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:617)\\r\\n\\t... 56 more\\r\\n\",\n    \"path\": \"/app/videogames\"\n}","statusCode":500},"precondition":false}]}]},{"number":4,"description":"Then I should be able to verify videogame with \"5\" is created","duration":3,"startTime":"2021-08-04T23:02:36.522+01:00[Europe/London]","result":"SKIPPED","precondition":false}],"userStory":{"id":"testing-different-request-on-the-videogame-application","storyName":"Testing different request on the Videogame application","path":"src/test/java/resources/feature/videogame.feature","type":"feature"},"featureTag":{"name":"Feature/Testing different request on the Videogame application","type":"feature"},"title":"Create a new videogame and verify if the videogame is added","description":"","tags":[{"name":"Feature/Testing different request on the Videogame application","type":"feature"}],"startTime":"2021-08-04T23:02:35.645+01:00[Europe/London]","duration":880,"testFailureCause":{"errorType":"java.lang.AssertionError","message":"1 expectation failed.\nExpected status code \u003c201\u003e but was \u003c500\u003e.\n","stackTrace":[{"declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"validateResponseIfRequired","fileName":"ResponseSpecificationImpl.groovy","lineNumber":636},{"declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"statusCode","fileName":"ResponseSpecificationImpl.groovy","lineNumber":122},{"declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"statusCode","fileName":"ResponseSpecificationImpl.groovy","lineNumber":130},{"declaringClass":"io.restassured.internal.ValidatableResponseOptionsImpl","methodName":"statusCode","fileName":"ValidatableResponseOptionsImpl.java","lineNumber":117},{"declaringClass":"com.videogames.cucumber.steps.MyStepdefs","methodName":"iCreateANewVideogameByProvidingTheInformationIdNameReleaseDateReviewScoreCategoryRating","fileName":"MyStepdefs.java","lineNumber":42},{"declaringClass":"âœ½","methodName":"When I create a new videogame by providing the information id\"5\" name\"Yakitri\" releaseDate\"2021-08-01T10:02:16.369Z\" reviewScore\"59\" category\"Cardguard\" rating\"5\"","fileName":"src/test/java/resources/feature/videogame.feature","lineNumber":7}]},"testFailureClassname":"java.lang.AssertionError","testFailureMessage":"1 expectation failed.\nExpected status code \u003c201\u003e but was \u003c500\u003e.\n","testFailureSummary":"FAILURE;java.lang.AssertionError;1 expectation failed.\nExpected status code \u003c201\u003e but was \u003c500\u003e.\n;ResponseSpecificationImpl.groovy","projectKey":"","annotatedResult":"FAILURE","dataTable":{"headers":["id","name","releaseDate","reviewScore","category","rating"],"rows":[{"values":["5","Yakitri","2021-08-01T10:02:16.369Z","59","Cardguard","5"],"result":"FAILURE"}],"predefinedRows":true,"dataSetDescriptors":[{"startRow":0,"rowCount":0,"name":"","description":""}]},"manual":false,"result":"FAILURE"}